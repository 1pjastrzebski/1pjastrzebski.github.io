<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>O NAS</title>
    <link rel="stylesheet" href="konfigurator.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <a href="index.html" class="logo_mazdy"
          ><img class="logo_mazdy" src="images/rectangle_15.png" alt=""
        /></a>
        <nav id="nav">
          <div class="nav" id="nav1"></div>
          <div class="nav" id="nav2"></div>
          <div class="nav" id="nav3"></div>
        </nav>
      </header>
      <main>
        <article class="menu">
          <ol class="menu" id="menu">
            <li class="menu1">
              <a href="oNas.html" class="menu1">o nas</a>
            </li>

            <li class="menu1">
              <a href="jazda_probna.html" class="menu1">umów jazdę próbną</a>
            </li>

            <li class="menu1">
              <a href="konfigurator.html" class="menu1">konfigurator</a>
            </li>
          </ol>
        </article>
        <article>
          <div class="tak">
            <form class="formularz">
              <label for="generation" class="formularz">Generacja:</label>
              <select id="generation" name="generation" class="wybor" >
                <option value="" selected disabled hidden></option>
                <option value="NA">NA (1989-1997)</option>
                <option value="NB">NB (1998-2005)</option>
                <option value="NC">NC (2006-2015)</option>
                <option value="ND">ND (2016-2022)</option>
              </select>

              <label for="engine" class="formularz">Silnik:</label>
              <select id="engine" name="engine" class="wybor" disabled>
                <optgroup label="NA" class="wybor">
                  <option value="1.6L">1.6L</option>
                  <option value="1.8L">1.8L</option>
                </optgroup>
                <optgroup label="NB" class="wybor">
                  <option value="1.6L">1.6L</option>
                  <option value="1.8L">1.8L</option>
                  <option value="1.8L Turbo">1.8L Turbo</option>
                </optgroup>
                <optgroup label="NC" class="wybor">
                  <option value="1.8L">1.8L</option>
                  <option value="2.0L">2.0L</option>
                  <option value="2.0L Turbo">2.0L Turbo</option>
                </optgroup>
                <optgroup label="ND" class="wybor">
                  <option value="1.5L">1.5L</option>
                  <option value="2.0L">2.0L</option>
                </optgroup>
              </select>

              <label for="color" class="formularz" class="formularz"
                >Kolor:</label
              >
              <input type="color" id="color" name="color" />

              <label for="fuel" class="formularz">Typ Paliwa:</label>
              <select id="fuel" name="fuel" class="wybor" disabled>
                <optgroup label="NA" class="wybor">
                  <option value="Benzyna">Benzyna</option>
                </optgroup>
                <optgroup label="NB" class="wybor">
                  <option value="Benzyna">Benzyna</option>
                  <option value="Benzyna + LPG">Benzyna + LPG</option>
                </optgroup>
                <optgroup label="NC" class="wybor">
                  <option value="Benzyna">Benzyna</option>
                  <option value="Diesel">Diesel</option>
                </optgroup>
                <optgroup label="ND" class="wybor">
                  <option value="Benzyna">Benzyna</option>
                  <option value="Benzyna + hybryda">Benzyna + hybryda</option>
                </optgroup>
              </select>
            </form>
            <button id="btn" class="btn">Wyświetl</button>
            <div class="btn" id="end"></div>
          </div>
        </article>
      </main>
    </div>

    <script>
      const generationSelect = document.getElementById("generation");
      const engineSelect = document.getElementById("engine");
      const fuelSelect = document.getElementById("fuel");

      generationSelect.addEventListener("change", () => {
        engineSelect.disabled = false;
        fuelSelect.disabled = false;

        const selectedGeneration = generationSelect.value;

        Array.from(engineSelect.options).forEach((option) => {
          if (option.parentElement.label !== selectedGeneration) {
            option.disabled = true;
            option.selected = false;
          } else {
            option.disabled = false;
          }
        });

        Array.from(fuelSelect.options).forEach((option) => {
          if (option.parentElement.label !== selectedGeneration) {
            option.disabled = true;
            option.selected = false;
          } else {
            if (
              (selectedGeneration === "NB" && option.value === "Diesel") ||
              (selectedGeneration === "ND" && option.value === "Diesel")
            ) {
              option.disabled = true;
              option.selected = false;
            } else {
              option.disabled = false;
            }
          }
        });
      });

      const submitButton = document.getElementById("btn");
      submitButton.type = "submit";

      const resultContainer = document.getElementById("end");

      submitButton.addEventListener("click", (event) => {
        event.preventDefault();

        const selectedGeneration = generationSelect.value;
        const selectedEngine = engineSelect.value;
        const selectedColor = color.value;
        const selectedFuel = fuelSelect.value;

        resultContainer.innerText = `Wybrano: ${selectedGeneration}, ${selectedEngine}, ${selectedColor}, ${selectedFuel}`;
      });

      document.body.append(submitButton, resultContainer);
      let x = 0;
      document.getElementById("nav").addEventListener("click", menu);
      const model = document.getElementsByName("model").values;
      /* if (model == "MX-5 NA") {
        alert("tak");
      } */
      const visible = "visible";
      const hidden = "hidden";
      document.getElementById("menu").style.zIndex = 0;
      document.getElementById("menu").style.visibility = hidden;
      function menu() {
        if (x == 0) {
          x = 100;
          document.getElementById("menu").style.visibility = visible;
          document.getElementById("menu").style.zIndex = x;
        } else {
          x = 0;
          document.getElementById("menu").style.visibility = hidden;
          document.getElementById("menu").style.zIndex = x;
        }
      }
    </script>
  </body>
</html>
